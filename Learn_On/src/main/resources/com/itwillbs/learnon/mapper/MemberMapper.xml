<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwillbs.learnon.mapper.MemberMapper">

	<select id="selectMember" resultType="member">
		SELECT *
		  FROM MEMBER
		 WHERE mem_id = #{mem_id}
	</select>
	
	<select id="selectMemberPasswd" resultType="String">
	SELECT mem_passwd
	  FROM MEMBER
	 WHERE mem_id = #{mem_id} 
	</select>

	
	<insert id="insertMember">
	INSERT INTO MEMBER
	VALUES(
	null
	, #{mem_id}
	, #{mem_passwd}
	, #{mem_name}
	, #{mem_nick}
	, #{mem_birthday}
	, CONCAT(#{mem_email1},'@',#{mem_email2})
	, #{mem_gender}
	, #{mem_phone}
	, #{mem_post_code}
	, #{mem_address1}
	, #{mem_address2}
	, 'MEM01'
	, 1
	, now()
	, null
	, #{mem_like1_class}
	, #{mem_like2_class}
 	, SUBSTR(#{file_pp}, INSTR(#{file_pp}, '_') + 1)
	)
	</insert>
	
<!-- 	<update id="updateMember"> -->
<!-- 	UPDATE MEMBER -->
<!-- 	SET mem_name = #{mem_name} -->
<!-- 		<if test="!mem_passwd.equals('')"> -->
<!-- 			,mem_passwd = #{mem_passwd} -->
<!-- 		</if> -->
<!-- 	, mem_nick = #{mem_nick} -->
<!-- 	, mem_post_code = #{mem_post_code} -->
<!-- 	, mem_address1 = #{mem_address1} -->
<!-- 	, mem_address2 = #{mem_address2} -->
<!-- 	, mem_phone = #{mem_phone} -->
	
<!-- 	</update> -->
	
<!-- 	<delete id="deleteMailAuthInfo"> -->
<!-- 	DELETE FROM mail_auth_info -->
<!-- 	WHERE email = #{email} -->
<!-- 	</delete> -->
	
<!-- 	<insert id="insertMailAuthInfo"> -->
<!-- 	INSERT INTO mail_auth_info -->
<!-- 	VALUES( -->
<!-- 		#{email} -->
<!-- 		, #{auth_code} -->
<!-- 	) -->
<!-- 	</insert> -->
<!-- 	<update id="updateMailAuthInfo"> -->
<!-- 	UPDATE mail_auth_info -->
<!-- 	SET auth_code = #{auth_code} -->
<!-- 	WHERE email=#{email} -->
<!-- 	</update> -->
<!--	이메일 인증정보 조회 --> 
<!-- 	<select id="selectMailAuthInfo" resultType="MailAuthInfo"> -->
<!-- 	SELECT * -->
<!-- 	FROM MEMBER -->
<!-- 	WHERE email = #{email} -->
<!-- 	</select> -->
</mapper>
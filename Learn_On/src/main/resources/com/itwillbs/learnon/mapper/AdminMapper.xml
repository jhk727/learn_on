<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itwillbs.learnon.mapper.AdminMapper">

	<insert id="insertClass">
		<selectKey keyProperty="CLASS_ID" resultType="int" order="BEFORE">
			select ifnull(MAX(CLASS_ID), 0)
			from CLASS;
		</selectKey>
		insert
		into CLASS
		values (
			#{CLASS_ID} + 1
			, #{CLASS_TITLE}
			, #{MEM_ID}
			, #{CLASS_INTRO}
			, #{CLASS_PRICE}
			, #{CLASS_CATEGORY}
			, curdate()
			, #{CLASS_RUNTIME}
			, #{CLASS_PIC1}
			, #{CLASS_CONTENTS}
			, #{CLASS_STATUS});
	</insert>
	
	<select id="getCategory">
		select *
		from COMMONCODE;
	</select>
	
	<select id="getSubCategory">
		select *
		from COMMONCODETYPE
	</select>
	
	<select id="getClassList">
		select *
		from CLASS;
	</select>
	<select id="getClass" resultType="int">
		select *
		from CLASS;
		where #{class_id};
	</select>
	
	<select id="getMemberList"> 
		select *
		from MEMBER;
	</select>



</mapper>